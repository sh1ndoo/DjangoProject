{% load static %}
{% load event_tags %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –ö–û–¢</title>
    <link type="text/css" href="{% static 'events_app/css/styles.css' %}" rel="stylesheet">
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body>
    <div class="container">
        {% show_header cat_selected profile.url %}
{#        {% include 'events_app/includes/header.html' with base_data=base_data%}#}
        <!-- –ë–ª–æ–∫ 1: –û–±–ª–æ–∂–∫–∞ -->
        <header class="profile-cover">
            <!-- –§–æ–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –±—É–¥–µ—Ç –≤ CSS -->
            <button class="btn btn-cover-edit">
                <i class="fas fa-pencil-alt"></i> –ò–∑–º–µ–Ω–∏—Ç—å –æ–±–ª–æ–∂–∫—É
            </button>
        </header>

        <!-- –ë–ª–æ–∫ 2: –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ø–æ–¥ –æ–±–ª–æ–∂–∫–æ–π, —Å –≤—ã—Å—Ç—É–ø–∞—é—â–µ–π –∞–≤–∞—Ç–∞—Ä–∫–æ–π) -->
        <section class="profile-info-card">
            <!-- –ê–≤–∞—Ç–∞—Ä–∫–∞ -->
            <img src="https://sun9-61.userapi.com/s/v1/ig2/d5ELAT8JOdnGTjFsm8oRctp1b4HgMlwvlOqcI6XU-YdFfzRNqAgMUsX0YZt-hGVarz_c3DwqdJ81i3nstMLRkNat.jpg?quality=95&crop=620,171,556,556&as=32x32,48x48,72x72,108x108,160x160,240x240,360x360,480x480,540x540&ava=1&u=95XnosnZE2NiTEsRTnUIsk70C-iZJdPXZ7YNq-L7Dug&cs=400x400" alt="–ê–≤–∞—Ç–∞—Ä" class="profile-avatar-overlap">

            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è —á–∞—Å—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <div class="profile-info-content">
                <div class="profile-text-details">
                    <h1 class="profile-user-name">
                        {{ profile.name }}
                        <!-- <span class="profile-name-emoji">ü´∞</span> –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∂–∏ -->
                    </h1>
                    <p class="profile-user-status">
                        –°—Ç–∞—Ç—É—Å —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø—É—Å—Ç–æ <!-- –°—Ç–∞—Ç—É—Å –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ -->
                    </p>
                    <!-- –ó–¥–µ—Å—å –ù–ï –ë–£–î–ï–¢ –¥–æ–ø. –∏–Ω—Ñ–æ —Ç–∏–ø–∞ –°–§–£ -->
                </div>
                <div class="profile-card-actions">
                    <button class="btn btn-profile-edit">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                    <button class="btn btn-profile-more">
                        –ï—â—ë <i class="fas fa-caret-down"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- –ë–ª–æ–∫ 3: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–∞–∫ –Ω–∞ –ø–µ—Ä–≤–æ–º —Ñ–æ—Ç–æ) -->
        <section class="profile-user-stats">
            <div class="stat-item">
                <span class="stat-icon"><i class="fas fa-star"></i></span>
                <span class="stat-label">–†–µ–π—Ç–∏–Ω–≥</span>
                <span class="stat-value">{{ profile.rating }}</span>
            </div>
            <div class="stat-item">
                <span class="stat-icon"><i class="fas fa-map-marker-alt"></i></span>
                <span class="stat-label">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</span>
                <span class="stat-value">{{ profile.adress }}</span>
            </div>
            <div class="stat-item">
                <span class="stat-icon"><i class="fas fa-thumbs-up"></i></span>
                <span class="stat-label">–û—Ü–µ–Ω–æ–∫</span>
                <span class="stat-value">{{ profile.reviews_count }}</span>
            </div>
            <div class="stat-item">
                <span class="stat-icon"><i class="fas fa-flag"></i></span>
                <span class="stat-label">–ü–æ—Å–µ—â–µ–Ω–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</span>
                <span class="stat-value">{{ profile.events_count }}</span>
            </div>
        </section>

        <!-- –ë–ª–æ–∫ 4: –¢–∞–±—ã (–∫–∞–∫ –Ω–∞ –ø–µ—Ä–≤–æ–º —Ñ–æ—Ç–æ) -->
        <nav class="profile-user-tabs">
            <button class="profile-tab-link active" data-tab-target="#content-liked">–ü–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è</button>
            <button class="profile-tab-link" data-tab-target="#content-my-events">–í–∞—à–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</button>
            <button class="profile-tab-link" data-tab-target="#content-reviews">–û—Ü–µ–Ω–∫–∏</button>
        </nav>

        <!-- –ë–ª–æ–∫ 5: –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ -->
        <div class="profile-tab-content-area">
            <div id="content-liked" class="profile-tab-pane active">
                <div class="liked-placeholder">
                    <i class="fas fa-heart big-heart-icon"></i>
                    <!-- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç "–ó–¥–µ—Å—å –±—É–¥—É—Ç –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è" -->
                </div>
            </div>
            <div id="content-my-events" class="profile-tab-pane">
                 <p class="tab-placeholder-text">–ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞—à–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.</p>
            </div>
            <div id="content-reviews" class="profile-tab-pane">
                <p class="tab-placeholder-text">–ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞—à–∏ –æ—Ü–µ–Ω–∫–∏.</p>
            </div>
        </div>

    </div> <!-- /profile-container-new -->

    <!-- –§—É—Ç–µ—Ä (–≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π) -->
    {% include 'events_app/includes/footer.html' %}

    <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–∞–±–æ–≤ -->
    <script>
        const profileTabLinks = document.querySelectorAll('.profile-user-tabs .profile-tab-link');
        const profileTabPanes = document.querySelectorAll('.profile-tab-content-area .profile-tab-pane');

        profileTabLinks.forEach(link => {
            link.addEventListener('click', () => {
                const targetPaneSelector = link.getAttribute('data-tab-target');
                const targetPane = document.querySelector(targetPaneSelector);

                profileTabLinks.forEach(l => l.classList.remove('active'));
                profileTabPanes.forEach(p => p.classList.remove('active'));

                link.classList.add('active');
                if (targetPane) {
                    targetPane.classList.add('active');
                }
            });
        });
    </script>

</body>
</html>